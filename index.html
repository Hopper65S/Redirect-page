<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Re:direct</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#3b82f6" id="themeColor">
    <style>
        :root {
    --primary-color: #3b82f6;
    --primary-hover: #2563eb;
    --primary-light: #60a5fa;
    --background: #f0f4f8;
    --surface: rgba(255, 255, 255, 0.7);
    --glass: rgba(255, 255, 255, 0.6);
    --glass-border: rgba(255, 255, 255, 0.8);
    --border: rgba(59, 130, 246, 0.1);
    --text-primary: #1e293b;
    --text-secondary: #475569;
    --text-muted: #64748b;
    --success: #10b981;
    --warning: #f59e0b;
    --error: #ef4444;
    --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
    --shadow-lg: 0 20px 60px 0 rgba(31, 38, 135, 0.15);
    --radius: 1rem;
    --gradient-bg: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
    --gradient-overlay: linear-gradient(180deg, rgba(240, 244, 248, 0.95) 0%, rgba(240, 244, 248, 0.85) 100%);
}

.dark-theme {
    --background: #0f172a;
    --surface: rgba(30, 41, 59, 0.6);
    --glass: rgba(30, 41, 59, 0.5);
    --glass-border: rgba(59, 130, 246, 0.2);
    --border: rgba(59, 130, 246, 0.15);
    --text-primary: #f1f5f9;
    --text-secondary: #cbd5e1;
    --text-muted: #94a3b8;
    --shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 20px 60px 0 rgba(0, 0, 0, 0.4);
    --gradient-bg: linear-gradient(135deg, #1e3a8a 0%, #312e81 25%, #581c87 50%, #831843 75%, #7f1d1d 100%);
    --gradient-overlay: linear-gradient(180deg, rgba(15, 23, 42, 0.95) 0%, rgba(15, 23, 42, 0.85) 100%);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
    background: var(--gradient-bg);
    color: var(--text-primary);
    line-height: 1.6;
    transition: background 0.5s ease, color 0.3s ease;
    min-height: 100vh;
    position: relative;
    overflow-x: hidden;
    display: flex;
    flex-direction: column;
}

body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--gradient-overlay);
    pointer-events: none;
    z-index: 0;
    transition: background 0.5s ease;
}

body::after {
    content: '';
    position: fixed;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background:
        radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(96, 165, 250, 0.1) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
    animation: float 20s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    33% { transform: translate(30px, -30px) rotate(5deg); }
    66% { transform: translate(-20px, 20px) rotate(-5deg); }
}

.container {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
    position: relative;
    z-index: 1;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    gap: 20px;
}

.logo-section {
    display: flex;
    align-items: center;
    gap: 12px;
}

.logo-placeholder {
    width: 50px;
    height: 50px;
    border-radius: 12px;
    background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
    font-size: 24px;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

.logo-text {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.logo-title {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-primary);
    letter-spacing: -0.5px;
}

.logo-subtitle {
    font-size: 11px;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 1px;
    font-weight: 600;
}

.controls {
    display: flex;
    gap: 12px;
    align-items: center;
}

.theme-toggle {
    position: relative;
    width: 70px;
    height: 36px;
    border-radius: 18px;
    background: #e2e8f0;
    border: 2px solid var(--border);
    cursor: pointer;
    transition: all 0.3s ease;
    padding: 0;
    overflow: hidden;
}

.theme-toggle:hover {
    background: #cbd5e1;
    border-color: var(--primary-color);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.theme-toggle-slider {
    position: absolute;
    top: 3px;
    left: 3px;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: white;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    font-size: 15px;
    color: #64748b;
}

.dark-theme .theme-toggle {
    background: #4338ca;
    border-color: #6366f1;
}

.dark-theme .theme-toggle:hover {
    background: #4f46e5;
    border-color: #818cf8;
}

.dark-theme .theme-toggle-slider {
    transform: translateX(34px);
    background: #1e293b;
    color: #fbbf24;
}

.btn-icon {
    padding: 10px;
    min-width: 44px;
    height: 44px;
    border-radius: 12px;
    background: var(--glass);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 2px solid var(--glass-border);
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

.btn-icon:hover {
    background: var(--primary-color);
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
    border-color: var(--primary-color);
}

.card {
    background: var(--glass);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 2px solid var(--glass-border);
    border-radius: var(--radius);
    box-shadow: var(--shadow-lg);
    padding: 40px 30px;
    text-align: center;
    animation: slideUp 0.6s ease-out;
    position: relative;
    overflow: hidden;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    transition: left 0.5s;
}

.card:hover::before {
    left: 100%;
}

.app-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    margin-bottom: 24px;
}

.app-icon {
    width: 80px;
    height: 80px;
    border-radius: 20px;
    background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);
    animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);
    }
    50% {
        transform: scale(1.05);
        box-shadow: 0 12px 32px rgba(59, 130, 246, 0.6);
    }
}

.app-icon svg {
    width: 48px;
    height: 48px;
}

.app-name {
    font-weight: 700;
    font-size: 24px;
    color: var(--text-primary);
    letter-spacing: -0.5px;
}

.redirect-info {
    color: var(--text-secondary);
    font-size: 16px;
    margin-bottom: 20px;
    line-height: 1.5;
}

.timer-container {
    background: var(--surface);
    border-radius: 16px;
    padding: 24px;
    margin: 24px 0;
    border: 2px solid var(--border);
}

.timer-label {
    color: var(--text-secondary);
    font-size: 14px;
    margin-bottom: 12px;
    font-weight: 500;
}

.timer {
    font-size: 48px;
    font-weight: 700;
    background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 8px;
    animation: timerPulse 1s ease-in-out infinite;
}

@keyframes timerPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.timer-text {
    color: var(--text-muted);
    font-size: 14px;
    margin-bottom: 16px;
}

/* ПРОГРЕСС-БАР */
.progress-bar-container {
    width: 100%;
    height: 8px;
    background: var(--border);
    border-radius: 4px;
    overflow: hidden;
    margin-top: 16px;
}

.progress-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--primary-color), var(--primary-light));
    border-radius: 4px;
    transition: width 1s linear;
    position: relative;
    overflow: hidden;
}

.progress-bar::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: shimmer 2s infinite;
}

@keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.btn {
    padding: 12px 24px;
    border: 2px solid var(--border);
    border-radius: 12px;
    background: var(--surface);
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 15px;
    font-weight: 500;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
    border-color: var(--primary-color);
}

.btn-primary {
    background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
    color: white;
    border: none;
    font-size: 18px;
    padding: 14px 32px;
    box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);
}

.btn-primary:hover {
    box-shadow: 0 12px 32px rgba(59, 130, 246, 0.6);
    transform: translateY(-4px);
}

.download-buttons {
    display: flex;
    gap: 12px;
    justify-content: center;
    margin-top: 16px;
    flex-wrap: wrap;
}

.obtainium-info {
    font-size: 14px;
    color: var(--text-secondary);
    margin: 20px 0;
    padding: 16px;
    background: var(--surface);
    border-radius: 12px;
    border: 2px solid var(--border);
}

.footer {
    text-align: center;
    padding: 24px 20px;
    color: var(--text-muted);
    font-size: 14px;
    font-weight: 500;
    position: relative;
    z-index: 1;
    margin-top: auto;
}

.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    padding: 20px;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.modal.active {
    display: flex;
}

.modal-content {
    background: var(--glass);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 2px solid var(--glass-border);
    border-radius: var(--radius);
    max-width: 500px;
    width: 100%;
    box-shadow: var(--shadow-lg);
    animation: modalSlide 0.4s ease-out;
    max-height: 90vh;
    overflow-y: auto;
}

@keyframes modalSlide {
    from {
        transform: translateY(-50px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 24px;
    border-bottom: 2px solid var(--border);
}

.modal-title {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-primary);
}

.modal-close {
    background: none;
    border: none;
    font-size: 28px;
    cursor: pointer;
    color: var(--text-secondary);
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.modal-close:hover {
    background: var(--surface);
    color: var(--text-primary);
    transform: rotate(90deg);
}

.modal-body {
    padding: 24px;
}

.step {
    margin-bottom: 24px;
}

.step:last-child {
    margin-bottom: 0;
}

.step-title {
    font-weight: 600;
    margin-bottom: 12px;
    color: var(--text-primary);
    font-size: 16px;
}

.step-buttons {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

.step-buttons .btn {
    flex: 1;
    min-width: 100px;
}

.language-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
}

.language-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 16px;
    border: 2px solid var(--border);
    border-radius: 12px;
    background: var(--surface);
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 15px;
    font-weight: 500;
}

.language-btn:hover {
    background: var(--glass);
    border-color: var(--primary-color);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
}

.language-btn.active {
    background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
    border-color: var(--primary-color);
    color: white;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

.w-6 { width: 1.5rem; }
.h-6 { height: 1.5rem; }
.w-7 { width: 1.75rem; }
.h-7 { height: 1.75rem; }

@media (max-width: 768px) {
    .logo-title { font-size: 16px; }
    .logo-subtitle { font-size: 10px; }
    .app-name { font-size: 20px; }
    .timer { font-size: 36px; }
    .btn-primary {
        font-size: 16px;
        padding: 12px 24px;
    }
    .language-grid {
        grid-template-columns: 1fr;
    }
    .card {
        padding: 30px 20px;
    }
}
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo-section">
                <div class="logo-placeholder">R:</div>
                <div class="logo-text">
                    <div class="logo-title">Re:direct</div>
                    <div class="logo-subtitle">Redirect Service</div>
                </div>
            </div>
            <div class="controls">
                <button class="btn btn-icon" onclick="openModal('settingsModal')">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                </button>
            </div>
        </header>

        <main>
            <div id="redirectCard" class="card">
                <div class="app-header">
                    <div class="app-icon" id="appIcon"></div>
                    <h2 class="app-name" id="appName"></h2>
                </div>
                <p class="redirect-info" id="redirectText"></p>
                <div id="timerSection" style="display:none;">
                     <p class="redirect-info" data-key="you_will_be_redirected"></p>
                     <div class="timer-container">
                        <span id="timer" class="timer">10</span>
                        <span id="secondsText"></span>
                        <div class="progress-bar-container">
                            <div class="progress-bar" id="progressBar" style="width: 100%;"></div>
                        </div>
                     </div>
                </div>
                <p class="redirect-info" id="afterTimerText"></p>
                <div id="obtainiumSection" class="obtainium-info" style="display:none;">
                    <p id="obtainiumText"></p>
                    <div id="obtainiumDownloads" class="download-buttons"></div>
                </div>
                <a id="proceedBtn" class="btn btn-primary" href="#" style="display:none;" target="_blank">
                    <span id="proceedBtnText" data-key="proceed"></span>
                </a>
            </div>
        </main>
    </div>

    <footer class="footer">created ❤️ by legiz</footer>

    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" data-key="settings">Settings</h3>
                <button class="modal-close" onclick="closeModal('settingsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="step"><div class="step-title" data-key="theme">Theme</div><div class="step-buttons"><button class="btn" onclick="setTheme('light')" data-key="light">Light</button><button class="btn" onclick="setTheme('dark')" data-key="dark">Dark</button><button class="btn" onclick="setTheme('auto')" data-key="auto">Auto</button></div></div>
                <div class="step">
                <div class="step-title" data-key="language">Language</div>
                <div class="step-buttons">
                    <button class="btn" onclick="setLanguage('fa')">فارسی</button>
                    <button class="btn" onclick="setLanguage('zh')">中文</button>
                    <button class="btn" onclick="setLanguage('tr')">Türkçe</button>
                    <button class="btn" onclick="setLanguage('uz')">Oʻzbekcha</button>
                    <button class="btn" onclick="setLanguage('en')">English</button>
                    <button class="btn" onclick="setLanguage('ru')">Русский</button>
                </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- ОБЪЕКТЫ ДАННЫХ ---

        const appIcons = {
            'prizrak-box': '<svg class="w-7 h-7" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="none"><g transform="scale(0.03795966785) translate(0, 26.5)"><mask id="prizrak-box-mask" maskUnits="userSpaceOnUse" x="0" y="0" width="843" height="790"><rect width="843" height="790" fill="black"/><path d="M224.342 243.573C313.665 175.169 293.695 10.186 433.003 0.532249C612.115 -11.8799 575.328 195.882 674.834 301.445C718.106 347.351 785.799 285.135 839.471 378.656C824.796 367.987 787.125 356.297 753.835 394.893C743.221 363.051 720.063 390.471 712.826 402.13C695.234 430.474 689.066 474.016 704.987 496.209C689.307 528.172 654.057 521.538 645.886 514.301C624.779 495.606 623.572 405.146 618.145 374.389C617.542 424.243 605.239 527.93 560.853 543.851C505.371 563.753 478.233 553.5 469.79 583.051C463.035 606.691 480.645 621.446 490.294 625.869C482.856 642.353 458.09 673.994 418.529 668.687C369.077 662.053 343.749 628.281 334.099 621.647C324.45 615.013 302.74 611.395 282.839 618.029C266.129 623.599 237.384 642.755 240.021 668.687C241.983 687.985 270.777 689.794 247.258 700.046C213.341 714.83 191.775 687.382 194.188 674.114C182.729 677.13 146.545 672.908 160.416 635.518C167.222 617.17 180.317 602.952 173.08 587.272C163.309 566.101 137.105 575.411 120.613 558.928C227.959 547.47 253.288 458.261 253.288 458.261C253.288 458.261 232.387 489 211.387 499.5C234.906 475.377 237.005 387.657 191.775 390.069C183.332 393.687 180.317 399.718 178.508 414.192C135.69 410.573 152.054 363.534 133.278 341.823C113.979 319.51 39.8019 289.959 22.916 333.426C33.7713 256.791 146.407 303.257 224.342 243.573Z" fill="white"/><ellipse cx="385.386" cy="163" rx="41.5" ry="74" transform="rotate(7.04122 385.386 163)" fill="black"/><ellipse cx="41.5" cy="74" rx="41.5" ry="74" transform="matrix(-0.992458 0.122583 0.122583 0.992458 531.261 84.4707)" fill="black"/><ellipse cx="442.387" cy="301" rx="30.5" ry="54" fill="black"/></mask><path fill="currentColor" mask="url(#prizrak-box-mask)" d="M224.343 243.573C313.665 175.169 293.695 10.186 433.003 0.532249C612.116 -11.8799 575.329 195.882 674.835 301.445C718.107 347.351 785.8 285.135 839.472 378.656C852.359 401.111 823.645 415.856 814.746 440.169C809.012 455.836 817.402 478.294 800.875 480.575C788.451 482.289 786.834 461.38 774.34 462.483C757.554 463.965 760.056 484.991 755.042 501.079C749.948 517.424 760.662 531.956 749.011 544.5C739.077 555.196 727.137 550.937 713.43 555.958C695.398 562.564 687.326 576.991 668.2 575.257C621.764 586.112 645.888 515.507 621.764 532.439C604.196 538.984 606.4 557.616 600.053 575.257C591.467 599.121 596.639 615.129 588.595 639.182C582.246 658.167 582.231 672.764 566.885 685.618C547.734 701.658 526.433 684.617 503.562 694.664C482.816 703.778 478.712 721.691 457.729 730.245C435.595 739.269 420.225 731.427 396.819 736.276C368.475 742.147 375.109 789.903 292.488 789.903C202.028 789.903 226.321 728.035 180.318 715.169C142.308 704.538 96.0968 726.905 61.513 707.886C21.7105 678.939 42.493 646.976 33.7718 635.518C30.0998 630.693 25.3289 626.472 0 622.853C13.8706 607.174 42.7016 604.579 58.4977 614.41C77.6564 626.334 62.9004 650.499 79.6051 665.671C106.088 689.725 140.674 675.972 167.05 651.801C188.592 632.06 200.585 611.627 186.348 586.112C174.987 565.75 137.106 575.411 120.614 558.928C227.96 547.47 253.289 458.261 253.289 458.261C253.289 458.261 212.851 517.223 186.348 501.079C168.268 490.066 182.425 464.974 167.05 450.421C140.616 425.4 97.7193 486.021 74.1774 458.261C54.0235 434.497 92.8672 406.853 79.6051 378.656C67.551 353.028 22.9166 359.915 22.9166 333.426C33.7718 256.791 146.408 303.256 224.343 243.573Z"/></g></svg>',
            'flclashx': `<svg class="w-6 h-6" viewBox="0 0 32 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg"> <path d="M27.8574 0.0380332C28.0611 0.00990742 28.4103 -0.00412593 28.6285 0.016968C31.2255 0.227929 32.906 2.61884 32.1348 5.00973C32.0548 5.24181 31.6838 5.95202 31.3055 6.58488C30.9272 7.21777 29.7706 9.14455 28.7376 10.8674C27.7046 12.5902 26.0606 15.3398 25.0785 16.9853C24.1037 18.6307 23.2745 20.0019 23.2453 20.0442C23.2162 20.0794 22.5542 21.1904 21.7758 22.5054C19.979 25.5362 15.5124 33.0324 10.893 40.7535C9.96186 42.3217 8.81245 44.2484 8.34687 45.0431C7.19022 47.005 6.66645 47.5042 5.34977 47.884C4.826 48.0387 3.77117 48.0387 3.24012 47.884C1.13776 47.2792 -0.0625635 45.2751 0.446659 43.2147C0.570327 42.6873 0.68675 42.4764 2.36717 39.6987C3.05825 38.5595 4.1349 36.7523 4.76779 35.6834C5.40068 34.6075 6.32456 33.0605 6.82651 32.2377C7.32117 31.408 8.12135 30.0649 8.60875 29.2562C9.08887 28.4405 9.89637 27.0832 10.4056 26.2324C10.9148 25.3815 12.2243 23.1804 13.3155 21.3451C14.4067 19.5097 15.5197 17.6392 15.7888 17.1962C16.058 16.7532 16.7127 15.6562 17.2438 14.7702C17.7748 13.8771 18.5022 12.6605 18.8587 12.0628C20.8228 8.77886 22.8379 5.41055 23.4853 4.32761C25.0858 1.62731 25.1876 1.47961 25.6459 1.06472C26.2715 0.509198 27.0208 0.157576 27.8574 0.0380332Z"/> <path d="M21.303 25.8597C21.4703 25.6909 21.7686 25.6558 21.9504 25.7894C22.0742 25.888 22.8091 27.1048 27.2973 34.6708C28.243 36.253 29.6688 38.6439 30.469 39.98C31.2764 41.3161 32.0112 42.5959 32.1131 42.828C32.244 43.1374 32.2949 43.4257 32.324 43.9179C32.3822 45.1556 32.0257 46.0557 31.1382 46.9065C30.338 47.68 29.5378 47.9965 28.4103 47.9965C27.2972 47.9965 26.3588 47.6308 25.6168 46.9136C25.2458 46.5549 24.9548 46.1119 23.7545 44.0937C22.4451 41.8786 18.4804 35.2545 17.542 33.7215C17.3165 33.3558 17.1346 32.9761 17.1346 32.8847C17.1346 32.7933 17.6802 31.8087 18.3422 30.7047C19.0115 29.6007 19.9135 28.0889 20.3573 27.3575C20.801 26.6192 21.2229 25.9511 21.303 25.8597Z" /> <path d="M3.62566 0.0380332C3.83662 0.00287426 4.21488 -0.011181 4.47677 0.00991195C6.06263 0.129456 7.06658 0.790469 7.99772 2.33048C8.92887 3.87753 11.1913 7.66077 11.6277 8.40617C11.8678 8.81402 12.5298 9.91807 13.0972 10.8674C15.2068 14.3623 15.6069 15.0444 15.6069 15.1499C15.6068 15.2133 15.2723 15.818 14.8722 16.493C14.4649 17.1681 13.5482 18.7222 12.8281 19.9387C12.1079 21.1552 11.4531 22.2101 11.3731 22.2733C11.1767 22.4421 10.9367 22.428 10.7548 22.2382C10.6748 22.1538 10.0419 21.1341 9.35079 19.9738C6.4264 15.0444 1.67608 7.09819 1.27598 6.47234C0.570344 5.36129 0.330241 4.68621 0.330241 3.80721C0.330248 1.98592 1.74882 0.361506 3.62566 0.0380332Z"/> </svg>`,
            'v2raytun': `<svg class="w-6 h-6" viewBox="0 0 48 32" fill="currentColor" xmlns="http://www.w3.org/2000/svg"> <path d="m7.878.57.052.341c.038.202.089.698.127 1.132.038.418.128 1.302.192 1.937.063.636.216 2.061.33 3.177.103 1.1.255 2.542.319 3.178.064.635.205 2.061.32 3.177.114 1.1.254 2.495.318 3.1.063.588.178 1.673.242 2.402.076.728.191 1.798.255 2.402.076.589.14 1.178.14 1.286 0 .542.445 0 .79-.977.203-.604.548-1.503.739-2.014.803-2.092 1.402-3.673 1.402-3.735.002-.035.268-.731.586-1.566.573-1.518.65-1.704 1.236-3.3.179-.466.523-1.38.765-2.015.242-.636.574-1.52.726-1.938.6-1.596 1.058-2.82 1.402-3.72l.714-1.906.369-.96h3.926c2.163 0 3.908.046 3.886.123-.012.062-.739 1.83-1.58 3.907-.854 2.092-3.594 8.818-6.104 14.955a3112.03 3112.03 0 0 1-4.843 11.856l-.306.697-4.779.047c-4.459.031-4.779.016-4.843-.232-.038-.155-.139-.776-.216-1.364-.254-2.03-.357-2.79-.561-4.34-.115-.852-.267-1.937-.318-2.402-.128-.96-.459-3.394-.637-4.572-.179-1.24-.65-4.804-.88-6.664a139.425 139.425 0 0 0-.522-3.72C1.06 8.428.92 7.36.806 6.46a75.91 75.91 0 0 0-.318-2.402C.424 3.624.309 2.788.22 2.198.144 1.594.054.988.016.834-.034.586.207.57 3.916.57h3.962ZM37.254.26c1.81-.263 5.008.063 6.117.62 2.6 1.287 3.95 2.96 4.472 5.58.344 1.72.153 3.688-.535 5.548-.166.45-.306.853-.306.9 0 .046-.306.62-.663 1.27-1.287 2.262-3.288 4.448-7.71 8.462-1.49 1.363-2.713 2.526-2.713 2.588.005.078 2.27.14 5.033.14 3.937 0 5.034.046 5.034.186 0 .217-.306 2.573-.522 3.999a47.238 47.238 0 0 0-.192 1.58c-.05.403-.153.806-.242.9-.106.108-3.407.139-9.953.123l-9.8-.047.038-.542c.038-.635.345-3.084.562-4.464l.152-.992 1.415-1.27c.765-.698 2.421-2.17 3.683-3.285 7.353-6.479 7.162-6.293 8.245-7.595 1.096-1.302 1.554-2.402 1.618-3.874.038-.884 0-1.225-.216-1.736-.663-1.581-2.448-2.186-4.155-1.41-1.16.526-1.873 1.596-2.408 3.58-.064.263-.332.279-3.263.279-3.568 0-3.428.046-3.186-1.1C28.83 4.522 32.462.911 37.254.26Z"/> </svg>`,
            'happ': `<svg viewBox="0 0 32 32" fill="currentColor"><path d="M13.4,19.6l-7.9,7.9L5,30.4h6.6L13.4,19.6z" /><path d="M13.2,13.5L14.6,5l-7.9,7.9L4.2,27.4l7.9-7.9l0.2-1.2h1l4.9-4.9H13.2z" /><path d="M25.4,19.6L27.8,5l-7.9,7.9l-0.1,0.7h-0.6l-4.9,4.9h4.7l-1.5,9L25.4,19.6z" /><path d="M18.7,27.5l-0.5,2.9h6.6l1.8-10.8L18.7,27.5z" /><path d="M13.6,4.9l0.6-3.3H7.5L5.6,12.8L13.6,4.9z" /><path d="M18.8,12.8l7.9-7.9l0.6-3.3h-6.6L18.8,12.8z" /></svg>`,
            'sing-box': `<svg viewBox="0 0 32 32" fill="currentColor"><path d="M28.845 22.699c.608-.37.998-1.235 1-1.854V11.2s.008-.403-.417-.673L16.825 2.649s-1.48-.95-2.921 0L2.407 10.324c-.536.37-.558 1.036-.558 1.036l-.004 9.339s-.013 1.171.5 1.5l12.5 8 .048-11-12.158-7.694s-.556-.351.158-.76L14.345 3.2c1.032-.628 2.06-.03 2.06-.03l12.556 7.687c.604.254.158.444.158.444l-2.849 1.805s-.404.357-.888.112L12.356 5.134l-.48.316 13.47 8.249v3.5a.93.93 0 0 1-.362.745l-3.777 2.515s-.348.25-.362-.26v-3.5L7.43 8.359l-.542.369 13.036 8.158s.384.207-.056.446l-3.32 1.982v9.885s-.002.637-.702 1c0 0 .521.128 1.467-.432z"/></svg>`,
            'flclash': `<svg viewBox="0 0 32 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg"> <path d="M27.8574 0.0380332C28.0611 0.00990742 28.4103 -0.00412593 28.6285 0.016968C31.2255 0.227929 32.906 2.61884 32.1348 5.00973C32.0548 5.24181 31.6838 5.95202 31.3055 6.58488C30.9272 7.21777 29.7706 9.14455 28.7376 10.8674C27.7046 12.5902 26.0606 15.3398 25.0785 16.9853C24.1037 18.6307 23.2745 20.0019 23.2453 20.0442C23.2162 20.0794 22.5542 21.1904 21.7758 22.5054C19.979 25.5362 15.5124 33.0324 10.893 40.7535C9.96186 42.3217 8.81245 44.2484 8.34687 45.0431C7.19022 47.005 6.66645 47.5042 5.34977 47.884C4.826 48.0387 3.77117 48.0387 3.24012 47.884C1.13776 47.2792 -0.0625635 45.2751 0.446659 43.2147C0.570327 42.6873 0.68675 42.4764 2.36717 39.6987C3.05825 38.5595 4.1349 36.7523 4.76779 35.6834C5.40068 34.6075 6.32456 33.0605 6.82651 32.2377C7.32117 31.408 8.12135 30.0649 8.60875 29.2562C9.08887 28.4405 9.89637 27.0832 10.4056 26.2324C10.9148 25.3815 12.2243 23.1804 13.3155 21.3451C14.4067 19.5097 15.5197 17.6392 15.7888 17.1962C16.058 16.7532 16.7127 15.6562 17.2438 14.7702C17.7748 13.8771 18.5022 12.6605 18.8587 12.0628C20.8228 8.77886 22.8379 5.41055 23.4853 4.32761C25.0858 1.62731 25.1876 1.47961 25.6459 1.06472C26.2715 0.509198 27.0208 0.157576 27.8574 0.0380332Z"/> <path d="M21.303 25.8597C21.4703 25.6909 21.7686 25.6558 21.9504 25.7894C22.0742 25.888 22.8091 27.1048 27.2973 34.6708C28.243 36.253 29.6688 38.6439 30.469 39.98C31.2764 41.3161 32.0112 42.5959 32.1131 42.828C32.244 43.1374 32.2949 43.4257 32.324 43.9179C32.3822 45.1556 32.0257 46.0557 31.1382 46.9065C30.338 47.68 29.5378 47.9965 28.4103 47.9965C27.2972 47.9965 26.3588 47.6308 25.6168 46.9136C25.2458 46.5549 24.9548 46.1119 23.7545 44.0937C22.4451 41.8786 18.4804 35.2545 17.542 33.7215C17.3165 33.3558 17.1346 32.9761 17.1346 32.8847C17.1346 32.7933 17.6802 31.8087 18.3422 30.7047C19.0115 29.6007 19.9135 28.0889 20.3573 27.3575C20.801 26.6192 21.2229 25.9511 21.303 25.8597Z" /> <path d="M3.62566 0.0380332C3.83662 0.00287426 4.21488 -0.011181 4.47677 0.00991195C6.06263 0.129456 7.06658 0.790469 7.99772 2.33048C8.92887 3.87753 11.1913 7.66077 11.6277 8.40617C11.8678 8.81402 12.5298 9.91807 13.0972 10.8674C15.2068 14.3623 15.6069 15.0444 15.6069 15.1499C15.6068 15.2133 15.2723 15.818 14.8722 16.493C14.4649 17.1681 13.5482 18.7222 12.8281 19.9387C12.1079 21.1552 11.4531 22.2101 11.3731 22.2733C11.1767 22.4421 10.9367 22.428 10.7548 22.2382C10.6748 22.1538 10.0419 21.1341 9.35079 19.9738C6.4264 15.0444 1.67608 7.09819 1.27598 6.47234C0.570344 5.36129 0.330241 4.68621 0.330241 3.80721C0.330248 1.98592 1.74882 0.361506 3.62566 0.0380332Z"/> </svg>`,
            'clash-meta': `<svg viewBox="0 0 32 32" fill="currentColor" xmlns="http://www.w3.org/2000/svg"> <path d="M7.21 21.241c3.34-.601 4.497-.573 4.365.029-.1.516-1.19.774-5.16 1.348-1.123.143-1.454.085-1.586-.258-.298-.631-.166-.688 2.38-1.119ZM20.967 21.241c-.132-.487.033-.516 1.72-.344 3.273.315 5.158.774 5.16 1.204 0 .688-.663.717-3.804.201-2.38-.43-2.976-.63-3.076-1.06ZM4.696 19.349c0-.573.165-.603 3.373-.517 2.943.086 3.407.145 3.506.575.099.458-.232.515-3.373.515-3.307 0-3.506-.028-3.506-.573ZM24.605 18.776c3.01 0 3.241.028 3.241.573 0 .545-.232.573-3.472.573-2.68 0-3.473-.086-3.473-.373 0-.23.1-.487.231-.573.1-.115 1.688-.2 3.473-.2ZM15.377 16.166c.397-.114.927-.143 1.159-.086.264.058.595.115.76.115.496 0 .331.517-.462 1.319l-.761.774-.728-.975-.695-.975.727-.172ZM23.415 16.654c3.339-.602 4.497-.574 4.365.028-.1.516-1.19.774-5.16 1.348-1.124.143-1.455.086-1.587-.258-.298-.63-.165-.688 2.382-1.118ZM4.762 16.654c-.132-.488.033-.516 1.72-.344 3.605.344 5.192.774 5.093 1.262-.133.544-1.423.544-4.73-.03-1.488-.258-2.017-.487-2.083-.888ZM21.397 13.328c2.083 0 3.043.66 1.984 1.319-.33.23-1.223.401-1.984.401-.76 0-1.654-.172-1.984-.401-.53-.344-.562-.46-.199-.86.298-.316.993-.46 2.183-.46ZM8.863 13.786c.165-.4.595-.458 2.249-.4 1.918.085 2.018.114 2.018.802 0 .66-.133.716-1.853.803-1.984.085-2.811-.316-2.414-1.205Z"/> <path d="M5.423.626c.53-.888 1.125-.544 3.043 1.807 1.057 1.26 1.982 2.291 2.05 2.294.033 0 .96-.201 2.018-.43 2.414-.546 5.06-.545 7.54 0 1.057.257 2.05.343 2.182.229.166-.144.993-1.118 1.853-2.237.86-1.09 1.786-2.006 2.017-2.092.232-.057.595.315.86.859 1.257 2.61 3.505 13.39 4.63 22.02.727 5.533.76 7.082.166 7.598-1.29 1.118-12.634 1.835-21.233 1.348C.463 31.42-.066 31.219.264 28.15c.562-5.477 1.588-12.615 2.282-16.371C3.406 7.336 4.894 1.486 5.423.626Zm2.944 4.387C7.044 3.379 6.349 2.748 6.349 3.178c0 .086-.43 2.007-.959 4.243-1.455 6.05-3.736 21.701-3.241 22.135.463.401 8.765.946 14.122.946 5.291 0 13.658-.545 14.121-.918.199-.172-.76-8.084-1.553-12.815-.86-4.988-2.646-12.956-2.977-13.304-.165-.143-.827.516-1.522 1.434-.661.946-1.257 1.748-1.323 1.805-.066.058-1.025-.171-2.15-.515-2.711-.774-6.15-.803-8.961-.03a72.786 72.786 0 0 1-2.117.575c-.036-.004-.663-.777-1.422-1.721Z"/> </svg>`,
            'streisand': `<svg viewBox="0 0 32 32" fill="currentColor"><path d="M3.2,3.2c-5.867,5.867,4.803,23.203,23.6,23.6V32C9.301,32-4.331,18.369,3.2,3.2z" /><path d="M3.2,28.8c-5.867-5.867,4.803-23.203,23.6-23.6V0C9.301,0-4.331,13.631,3.2,28.8z" /><path d="M28.8,28.8c5.867-5.867-4.803-23.203-23.6-23.6V0C22.699,0,36.331,13.631,28.8,28.8z" /><path d="M28.8,3.2c5.867,5.867-4.803,23.203-23.6,23.6V32C22.699,32,36.331,18.369,28.8,3.2z" /></svg>`,
            'v2rayng': `<svg viewBox="0 0 32 32" fill="currentColor"><path d="M16 0 0 6v12c0 10 6.667 13.333 16 14 9.333-.667 16-4 16-14V6L16 0zm-1 28v-6l-7-4V8l8-3v23zm10-10-7 4V6l7 3v9z"/></svg>`,
            'shadowrocket': `<svg viewBox="0 0 32 32" fill="currentColor"><path d="M16,0C8.27,0,2,6.27,2,14c0,5.28,2.93,9.86,7.26,12.23c0.84,0.46,1.74,0.83,2.68,1.1l0.06,0.02V30h6v-2.65 l0.06-0.02c0.94-0.27,1.84-0.64,2.68-1.1C25.07,23.86,28,19.28,28,14C28,6.27,21.73,0,16,0z M18,27h-4v-1.45 C15.31,25.85,16.69,25.85,18,25.55V27z M22.26,24.23C20.78,25.03,18.69,25.5,16,25.5s-4.78-0.47-6.26-1.27 C5.93,21.86,4,18.28,4,14C4,7.37,9.37,2,16,2s12,5.37,12,12C28,18.28,26.07,21.86,22.26,24.23z"/><path d="M16 4c-5.51 0-10 4.49-10 10 0 3.35 1.66 6.31 4.2 8.13C11.89 23.36 13.87 24 16 24s4.11-.64 5.8-1.87C24.34 20.31 26 17.35 26 14c0-5.51-4.49-10-10-10zm3.8 18.13C18.11 23.36 17.13 23.5 16 23.5s-2.11-.14-3.8-1.37C9.66 20.31 8 17.35 8 14c0-4.41 3.59-8 8-8s8 3.59 8 8c0 3.35-1.66 6.31-4.2 8.13z"/></svg>`,
            'hiddify': `<svg viewBox="0 0 32 32" fill="currentColor"><path d="M26.8191 2.1691C25.0243 3.36662 23.3928 4.49636 23.2092 4.67711C22.6993 5.17420 22.6789 8.38265 23.1684 8.90233C23.6375 9.44461 30.2046 9.44461 30.6737 8.90233C30.9388 8.60860 31.0000 7.88557 31.0000 4.63192C31.0000 1.37828 30.9388 0.655248 30.6737 0.361516C30.5105 0.158163 30.3066 0 30.2250 0C30.1434 0 28.6138 0.971575 26.8191 2.1691Z" /><path d="M15.3980 9.39942C13.6033 10.5969 11.9717 11.7267 11.7882 11.9074C11.4618 12.2464 11.4211 12.8338 11.4211 18.1888C11.4211 22.4818 11.3599 24.1538 11.1763 24.3571C10.8500 24.7187 8.72895 24.7187 8.40263 24.3571C8.23947 24.1764 8.15789 22.8885 8.15789 20.0867C8.15789 16.6749 8.11711 16.0197 7.83158 15.7034C7.64803 15.5000 7.36250 15.3870 7.17895 15.4774C6.70987 15.6808 1.40724 19.2055 0.673026 19.8156L0 20.3579V25.3061C0 29.4862 0.0407895 30.2996 0.326316 30.5933C0.591447 30.8870 1.22368 30.9548 4.07895 30.9548C8.21908 30.9548 8.15789 31.0000 8.15789 28.6050C8.15789 27.6334 8.25987 26.8652 8.40263 26.7070C8.72895 26.3455 10.8500 26.3455 11.1763 26.7070C11.3191 26.8652 11.4211 27.6334 11.4211 28.6050C11.4211 31.0000 11.3599 30.9548 15.5000 30.9548C18.3553 30.9548 18.9875 30.8870 19.2526 30.5933C19.5382 30.2770 19.5789 28.9213 19.5789 19.0926C19.5789 9.26385 19.5382 7.90817 19.2526 7.59184C19.0895 7.38849 18.8855 7.23032 18.8039 7.23032C18.7224 7.23032 17.1928 8.20190 15.3980 9.39942Z" /><path d="M23.1684 11.4329C22.8829 11.7267 22.8421 12.9242 22.8421 21.0131C22.8421 29.1020 22.8829 30.2996 23.1684 30.5933C23.6375 31.1356 30.2046 31.1356 30.6737 30.5933C30.9592 30.2996 31.0000 29.1020 31.0000 21.0131C31.0000 12.9242 30.9592 11.7267 30.6737 11.4329C30.4086 11.1392 29.7763 11.0714 26.9211 11.0714C24.0658 11.0714 23.4336 11.1392 23.1684 11.4329Z" /></svg>`,
            'exclave': `<svg viewBox="0 0 32 32" fill="currentColor"><path d="M10.238 28.828c-1.39-.144-3.39-.8-3.718-1.215-.16-.207-.176-.363-.176-1.593 0-.754.035-1.391.078-1.418.047-.028.387.152.754.398 1.414.945 2.539 1.285 4.258 1.29 1.02.003 1.308-.028 1.875-.204a7.706 7.706 0 0 0 3.914-2.766c.734-.996 1.082-1.8 1.32-3.078.117-.613.117-.77 0-1.344-.492-2.375-1.898-4.054-3.93-4.691-.66-.207-1.836-.18-2.504.059-1.234.441-2.207 1.25-2.668 2.222-.242.512-.285.703-.285 1.278 0 .578.04.754.293 1.265.317.64.926 1.266 1.512 1.551.52.254 1.434.277 1.875.055.61-.313 1.191-1.11 1.32-1.817.172-.91-.64-1.953-1.523-1.953-.27 0-.395.07-.695.383-.204.21-.512.582-.684.828-.262.367-.367.45-.625.469-.504.043-.672-.145-.664-.754.012-.996.601-1.863 1.547-2.293.636-.285 1.851-.266 2.523.043 1.406.652 2.043 2.008 2.043 4.355 0 2.004-.578 2.848-2.277 3.32-.918.259-2.399.278-3.262.048-1.812-.489-3-1.625-3.637-3.485-.226-.664-.246-.832-.246-2.02.004-1.179.028-1.363.258-2.054.379-1.133.746-1.762 1.406-2.418.684-.68 1.72-1.242 2.7-1.469 1.472-.34 3.464-.336 4.835.008 1.715.43 3.344 1.738 4.274 3.434 1.512 2.758 1.344 6.918-.383 9.457-.973 1.437-2.305 2.511-4.043 3.265-1.16.5-2.02.73-3.21.852-.997.102-1.235.102-2.255-.008Z"/><path d="M22.02 28.418c-.31-.074-.774-.484-.903-.793-.172-.41-.16-1.41.02-1.79.078-.167.265-.39.41-.495.25-.176.363-.188 2.015-.172.961.008 1.782.039 1.82.062.044.024.075.727.075 1.563v1.516l-.227.086c-.23.085-2.87.105-3.21.023Z"/><path d="M27.621 26.48l.027-1.91.293-.367c.743-.922.954-1.785.887-3.629-.058-1.62-.215-2.41-.762-3.828l-.418-1.082-.054-6.969.277.313c1.188 1.344 2.82 4.656 3.48 7.058.708 2.57.82 6.164.27 8.375-.379 1.497-1.305 2.868-2.293 3.391-.496.262-1.351.559-1.613.559-.102 0-.117-.336-.094-1.91Z"/><path d="M3.438 25.496c-1.016-1.035-1.602-1.933-2.278-3.492-.707-1.625-.972-2.762-1.117-4.777-.121-1.665.281-4.286.902-5.918.688-1.805 1.371-2.93 2.387-3.946.559-.554.727-.676.785-.57.04.07.082 1 .094 2.062l.016 1.93-.5 1.008c-.872 1.75-1.192 3.242-1.114 5.152.063 1.446.27 2.23.985 3.72l.554 1.163.028 2.121c.02 1.574 0 2.121-.078 2.121-.055 0-.356-.258-.665-.574Z"/><path d="M24.934 10.875c-.168-.242-.633-.754-1.036-1.133-2.89-2.726-6.75-4.035-11.066-3.762-2.043.13-3.496.567-4.95 1.485-1.241.785-1.35.848-1.448.785-.055-.035-.09-.586-.09-1.441 0-1.63.05-1.79.687-2.09 1.328-.625 3.844-1.399 5.387-1.653 1.836-.304 4.367-.265 6.133.094 1.789.363 4.277 1.414 5.742 2.422 1.215.836 1.18.73 1.148 3.352-.015 1.32-.062 2.246-.117 2.296-.058.06-.191-.062-.39-.355Z"/></svg>`,
            'obtainium': `<svg class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor"><path d="M6,18c0,0.55 0.45,1 1,1h1v3.5c0,0.83 0.67,1.5 1.5,1.5s1.5,-0.67 1.5,-1.5V19h2v3.5c0,0.83 0.67,1.5 1.5,1.5s1.5,-0.67 1.5,-1.5V19h1c0.55,0 1,-0.45 1,-1V8H6v10zM3.5,8C2.67,8 2,8.67 2,9.5v7c0,0.83 0.67,1.5 1.5,1.5S5,17.33 5,16.5v-7C5,8.67 4.33,8 3.5,8zM20.5,8C19.67,8 19,8.67 19,9.5v7c0,0.83 0.67,1.5 1.5,1.5s1.5,-0.67 1.5,-1.5v-7C22,8.67 21.33,8 20.5,8zM15.53,2.16l1.3,-1.3c0.2,-0.2 0.2,-0.51 0,-0.71c-0.2,-0.2 -0.51,-0.2 -0.71,0l-1.48,1.48C13.85,1.23 12.95,1 12,1c-0.96,0 -1.86,0.23 -2.66,0.63L7.85,0.15c-0.2,-0.2 -0.51,-0.2 -0.71,0c-0.2,0.2 -0.2,0.51 0,0.71l1.31,1.31C6.97,3.26 6,5.01 6,7h12C18,5.01 17.03,3.25 15.53,2.16zM10,5H9V4h1V5zM15,5h-1V4h1V5z"/></svg>`,
            'koala-clash': `<svg class="w-6 h-6" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" fill="none"><mask id="koala-clash-mask" maskUnits="userSpaceOnUse" x="0" y="0" width="36" height="36"><rect width="36" height="36" fill="white"/><path d="M9.554 9.854A9.26 9.26 0 0 0 8.6 9.8C5.507 9.8 3 11.293 3 15.026c0 2.154.838 3.808 2.138 4.824c.473-3.797 2.005-7.416 4.416-9.996zM27.4 9.8c-.317 0-.637.021-.955.054c2.412 2.58 3.943 6.199 4.416 9.997C32.162 18.834 33 17.181 33 15.026c0-3.733-2.507-5.226-5.6-5.226z" fill="black"/><path d="M21.728 24.807C21.728 28.152 20 29 18 29s-3.727-.848-3.727-4.193c0-3.345 1.727-6.057 3.727-6.057s3.728 2.712 3.728 6.057z" fill="black"/><circle cx="12.5" cy="19.875" r="1.5" fill="black"/><circle cx="23.5" cy="19.875" r="1.5" fill="black"/></mask><path fill="currentColor" mask="url(#koala-clash-mask)" d="M36 13.533C36 8.867 32.866 7 29 7c-1.621 0-3.285.354-4.676 1.027C22.523 6.798 20.405 6.062 18 6.062s-4.523.736-6.324 1.965C10.285 7.354 8.621 7 7 7c-3.866 0-7 1.867-7 6.533c0 3.844 2.128 6.417 5.038 7.206a20.141 20.141 0 0 0-.068 1.611c0 5.729 4.52 7.675 8.581 8.326C14.649 31.487 16.232 32 18 32s3.351-.513 4.449-1.323c4.062-.651 8.581-2.597 8.581-8.326c0-.538-.025-1.075-.068-1.611c2.91-.79 5.038-3.363 5.038-7.207z" /></svg>`,
            'clash-mi': `<svg class="w-6 h-6" viewBox="0 0 32 32" fill="currentColor" xmlns="http://www.w3.org/2000/svg"> <path d="M7.21 21.241c3.34-.601 4.497-.573 4.365.029-.1.516-1.19.774-5.16 1.348-1.123.143-1.454.085-1.586-.258-.298-.631-.166-.688 2.38-1.119ZM20.967 21.241c-.132-.487.033-.516 1.72-.344 3.273.315 5.158.774 5.16 1.204 0 .688-.663.717-3.804.201-2.38-.43-2.976-.63-3.076-1.06ZM4.696 19.349c0-.573.165-.603 3.373-.517 2.943.086 3.407.145 3.506.575.099.458-.232.515-3.373.515-3.307 0-3.506-.028-3.506-.573ZM24.605 18.776c3.01 0 3.241.028 3.241.573 0 .545-.232.573-3.472.573-2.68 0-3.473-.086-3.473-.373 0-.23.1-.487.231-.573.1-.115 1.688-.2 3.473-.2ZM15.377 16.166c.397-.114.927-.143 1.159-.086.264.058.595.115.76.115.496 0 .331.517-.462 1.319l-.761.774-.728-.975-.695-.975.727-.172ZM23.415 16.654c3.339-.602 4.497-.574 4.365.028-.1.516-1.19.774-5.16 1.348-1.124.143-1.455.086-1.587-.258-.298-.63-.165-.688 2.382-1.118ZM4.762 16.654c-.132-.488.033-.516 1.72-.344 3.605.344 5.192.774 5.093 1.262-.133.544-1.423.544-4.73-.03-1.488-.258-2.017-.487-2.083-.888ZM21.397 13.328c2.083 0 3.043.66 1.984 1.319-.33.23-1.223.401-1.984.401-.76 0-1.654-.172-1.984-.401-.53-.344-.562-.46-.199-.86.298-.316.993-.46 2.183-.46ZM8.863 13.786c.165-.4.595-.458 2.249-.4 1.918.085 2.018.114 2.018.802 0 .66-.133.716-1.853.803-1.984.085-2.811-.316-2.414-1.205Z"/> <path d="M5.423.626c.53-.888 1.125-.544 3.043 1.807 1.057 1.26 1.982 2.291 2.05 2.294.033 0 .96-.201 2.018-.43 2.414-.546 5.06-.545 7.54 0 1.057.257 2.05.343 2.182.229.166-.144.993-1.118 1.853-2.237.86-1.09 1.786-2.006 2.017-2.092.232-.057.595.315.86.859 1.257 2.61 3.505 13.39 4.63 22.02.727 5.533.76 7.082.166 7.598-1.29 1.118-12.634 1.835-21.233 1.348C.463 31.42-.066 31.219.264 28.15c.562-5.477 1.588-12.615 2.282-16.371C3.406 7.336 4.894 1.486 5.423.626Zm2.944 4.387C7.044 3.379 6.349 2.748 6.349 3.178c0 .086-.43 2.007-.959 4.243-1.455 6.05-3.736 21.701-3.241 22.135.463.401 8.765.946 14.122.946 5.291 0 13.658-.545 14.121-.918.199-.172-.76-8.084-1.553-12.815-.86-4.988-2.646-12.956-2.977-13.304-.165-.143-.827.516-1.522 1.434-.661.946-1.257 1.748-1.323 1.805-.066.058-1.025-.171-2.15-.515-2.711-.774-6.15-.803-8.961-.03a72.786 72.786 0 0 1-2.117.575c-.036-.004-.663-.777-1.422-1.721Z"/> </svg>`,
            "default": `<svg viewBox="0 0 32 32" fill="currentColor"><rect width="32" height="32" rx="8" fill="#3b82f6"/><path d="M22.667 10.667L13.333 20l-5.333-5.333 1.88-1.88 3.453 3.453 7.454-7.453 1.88 1.88z" fill="#fff"/></svg>`
        };

        const appSchemes = [
            { scheme: 'v2raytun://', id: 'v2raytun', name: { en: 'v2RayTun', ru: 'v2RayTun', fa: 'v2RayTun', zh: 'Happ', tr: 'v2RayTun', uz: 'v2RayTun' } },
            { scheme: 'prizrak-box://', id: 'prizrak-box', name: { en: 'Prizrak-Box', ru: 'Prizrak-Box', fa: 'Prizrak-Box', zh: 'Prizrak-Box', tr: 'Prizrak-Box', uz: 'Prizrak-Box' } },
            { scheme: 'flclashx://', id: 'flclashx', name: { en: 'FlClashX', ru: 'FlClashX', fa: 'FlClashX', zh: 'FlClashX', tr: 'FlClashX', uz: 'FlClashX' } },
            { scheme: 'happ://', id: 'happ', name: { en: 'Happ', ru: 'Happ', fa: 'Happ', zh: 'Happ', tr: 'Happ', uz: 'Happ' } },
            { scheme: 'flclash://', id: 'flclash', name: { en: 'FlClash', ru: 'FlClash', fa: 'FlClash', zh: 'FlClash', tr: 'FlClash', uz: 'FlClash' } },
            { scheme: 'clashmeta://', id: 'clash-meta', name: { en: 'Clash Meta', ru: 'Clash Meta', fa: 'Clash Meta', zh: 'Clash Meta', tr: 'Clash Meta', uz: 'Clash Meta' } },
            { scheme: 'sing-box://', id: 'sing-box', name: { en: 'sing-box', ru: 'sing-box', fa: 'sing-box', zh: 'sing-box', tr: 'sing-box', uz: 'sing-box' } },
            { scheme: 'streisand://', id: 'streisand', name: { en: 'Streisand', ru: 'Streisand', fa: 'Streisand', zh: 'Streisand', tr: 'Streisand', uz: 'Streisand' } },
            { scheme: 'v2rayng://', id: 'v2rayng', name: { en: 'v2rayNG', ru: 'v2rayNG', fa: 'v2rayNG', zh: 'v2rayNG', tr: 'v2rayNG', uz: 'v2rayNG' } },
            { scheme: 'exclave://', id: 'exclave', name: { en: 'Exclave', ru: 'Exclave', fa: 'Exclave', zh: 'Exclave', tr: 'Exclave', uz: 'Exclave' } },
            { scheme: 'sub://', id: 'shadowrocket', name: { en: 'Shadowrocket', ru: 'Shadowrocket', fa: 'Shadowrocket', zh: 'Shadowrocket', tr: 'Shadowrocket', uz: 'Shadowrocket' } },
            { scheme: 'hiddify://', id: 'hiddify', name: { en: 'Hiddify', ru: 'Hiddify', fa: 'Hiddify', zh: 'Hiddify', tr: 'Hiddify', uz: 'Hiddify' } },
            { scheme: 'obtainium://', id: 'obtainium', name: { en: 'Obtainium', ru: 'Obtainium', fa: 'Obtainium', zh: 'Obtainium', tr: 'Obtainium', uz: 'Obtainium' } },
            { scheme: 'koala-clash://', id: 'koala-clash', name: { en: 'Koala Clash', ru: 'Koala Clash', fa: 'Koala Clash', zh: 'Koala Clash', tr: 'Koala Clash', uz: 'Koala Clash' } },
            { scheme: 'clash://', id: 'clash-mi', name: { en: 'Clash Mi', ru: 'Clash Mi', fa: 'Clash Mi', zh: 'Clash Mi', tr: 'Clash Mi', uz: 'Clash Mi' } }
        ];

        const translations = {
            en: {
                settings: "Settings", theme: "Theme", language: "Language", light: "Light", dark: "Dark", auto: "Auto",
                seconds: "seconds", redirecting_to: "Redirecting to", you_will_be_redirected: "You will be redirected automatically in",
                if_not: "If nothing happens, click the button below.", proceed: "Import", error_redirect: "Redirection Error",
                error_description: "The redirection link is missing or invalid.",
                obtainium_info: "If this didn't happen, you may not have the Obtainium app installed. Download it from GitHub or F-Droid and try clicking the Import button below.",
                download_github: "Download (GitHub)", download_fdroid: "Download (F-Droid)"
            },
            ru: {
                settings: "Настройки", theme: "Тема", language: "Язык", light: "Светлая", dark: "Тёмная", auto: "Авто",
                seconds: "секунд", redirecting_to: "Перенаправление в", you_will_be_redirected: "Вы будете автоматически перенаправлены через",
                if_not: "Если этого не произошло, нажмите кнопку ниже.", proceed: "Импортировать", error_redirect: "Ошибка перенаправления",
                error_description: "Ссылка для перенаправления отсутствует или недействительна.",
                obtainium_info: "Если этого не произошло, возможно у вас не загружено приложение Obtainium. Загрузите его в GitHub или F-Droid и попробуйте нажать кнопку Импортировать ниже.",
                download_github: "GitHub", download_fdroid: "F-Droid"
            },
            fa: {
                settings: "تنظیمات", theme: "پوسته", language: "زبان", light: "روشن", dark: "تیره", auto: "خودکار",
                seconds: "ثانیه", redirecting_to: "در حال هدایت به", you_will_be_redirected: "شما به طور خودکار هدایت خواهید شد در",
                if_not: "اگر اتفاقی نیفتاد، دکمه زیر را کلیک کنید.", proceed: "وارد کردن", error_redirect: "خطای هدایت",
                error_description: "لینک هدایت وجود ندارد یا نامعتبر است.",
                obtainium_info: "اگر این اتفاق نیفتاد، ممکن است برنامه Obtainium را نصب نکرده باشید. آن را از GitHub یا F-Droid دانلود کرده و روی دکمه وارد کردن در پایین کلیک کنید.",
                download_github: "دانلود (GitHub)", download_fdroid: "دانلود (F-Droid)"
            },
            zh: {
                settings: "设置", theme: "主题", language: "语言", light: "浅色", dark: "深色", auto: "自动",
                seconds: "秒", redirecting_to: "正在重定向到", you_will_be_redirected: "您将在以下时间后自动重定向",
                if_not: "如果没有任何反应，请单击下面的按钮。", proceed: "导入", error_redirect: "重定向错误",
                error_description: "重定向链接丢失或无效。",
                obtainium_info: "如果重定向没有发生，您可能没有安装 Obtainium 应用程序。请从 GitHub 或 F-Droid 下载它，然后点击下方的"导入"按钮。",
                download_github: "下载 (GitHub)", download_fdroid: "下载 (F-Droid)"
            },
            tr: {
                settings: "Ayarlar", theme: "Tema", language: "Dil", light: "Açık", dark: "Koyu", auto: "Otomatik",
                seconds: "saniye içinde", redirecting_to: "Şuraya yönlendiriliyor", you_will_be_redirected: "Otomatik olarak yönlendirileceksiniz",
                if_not: "Hiçbir şey olmazsa, aşağıdaki düğmeye tıklayın.", proceed: "İçe aktar", error_redirect: "Yönlendirme hatası",
                error_description: "Yönlendirme bağlantısı eksik veya geçersiz.",
                obtainium_info: "Bu gerçekleşmediyse, Obtainium uygulaması yüklü olmayabilir. GitHub veya F-Droid'den indirin ve aşağıdaki İçe aktar düğmesine tıklayın.",
                download_github: "İndir (GitHub)", download_fdroid: "İndir (F-Droid)"
            },
            uz: {
                settings: "Sozlamalar", theme: "Mavzu", language: "Til", light: "Yorugʻ", dark: "Qorongʻi", auto: "Avtomatik",
                seconds: "soniya ichida", redirecting_to: "Quyidagiga yoʻnaltirilmoqda", you_will_be_redirected: "Siz avtomatik ravishda yoʻnaltirilasiz",
                if_not: "Agar hech narsa sodir bo'lmasa, quyidagi tugmani bosing.", proceed: "Import qilish", error_redirect: "Yoʻnaltirish xatosi",
                error_description: "Yoʻnaltirish havolasi yoʻq yoki yaroqsiz.",
                obtainium_info: "Agar bu sodir boʻlmagan boʻlsa, ehtimol sizda Obtainium ilovasi oʻrnatilmagan. Uni GitHub yoki F-Droid'dan yuklab oling va quyidagi "Import qilish" tugmasini bosing.",
                download_github: "Yuklab olish (GitHub)", download_fdroid: "Yuklab olish (F-Droid)"
            }
        };

        // --- ГЛОБАЛЬНЫЕ ПЕРЕМЕННЫЕ ---

        let currentLanguage = 'ru';
        let timerValue = 10;
        let timerId = null;
        let redirectTo = "";
        let appInfo = null;

        // --- ОСНОВНЫЕ ФУНКЦИИ ---

        document.addEventListener("DOMContentLoaded", function () {
            initialize();
        });

        function initialize() {
            loadSettings();
            
            const currentURL = window.location.href;
            redirectTo = decodeURIComponent(currentURL.split('redirect_to=')[1] || '');
            appInfo = appSchemes.find(a => redirectTo.startsWith(a.scheme));

            updateUI();
            startTimer();
            
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
                if (localStorage.getItem('theme') === 'auto') applyTheme('auto');
            });
            document.addEventListener('click', e => { if (e.target.classList.contains('modal')) closeModal('settingsModal'); });
            document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal('settingsModal'); });
        }

        function updateUI() {
            updateAllTexts();
            
            const appIconEl = document.getElementById("appIcon");
            const appNameEl = document.getElementById("appName");
            const redirectTextEl = document.getElementById("redirectText");
            const timerSection = document.getElementById("timerSection");
            const afterTimerText = document.getElementById("afterTimerText");
            const obtainiumSectionEl = document.getElementById("obtainiumSection");
            const proceedBtn = document.getElementById("proceedBtn");

            if (!redirectTo) {
                // Отображение ошибки
                appIconEl.innerHTML = appIcons["default"];
                appNameEl.textContent = t("error_redirect");
                redirectTextEl.textContent = t("error_description");
                timerSection.style.display = "none";
                afterTimerText.style.display = "none";
                obtainiumSectionEl.style.display = "none";
                proceedBtn.style.display = "none";
            } else {
                // Отображение информации о перенаправлении
                const appId = appInfo ? appInfo.id : "default";
                const appName = appInfo ? appInfo.name[currentLanguage] || appInfo.name['en'] : "App";

                appIconEl.innerHTML = (appIcons[appId] || appIcons["default"]);
                appNameEl.textContent = appName;
                redirectTextEl.textContent = `${t("redirecting_to")} ${appName}...`;
                
                timerSection.style.display = "block";
                proceedBtn.style.display = "inline-flex";
                proceedBtn.href = redirectTo;

                if (appInfo && appInfo.id === 'obtainium') {
                    afterTimerText.style.display = "none";
                    obtainiumSectionEl.style.display = "block";
                    document.getElementById("obtainiumText").textContent = t("obtainium_info");
                    const downloadsEl = document.getElementById("obtainiumDownloads");
                    downloadsEl.innerHTML = `
                        <a href="https://github.com/ImranR98/Obtainium/releases/latest/download/app-release.apk" class="btn btn-primary" target="_blank">${t('download_github')}</a>
                        <a href="https://f-droid.org/packages/dev.imranr.obtainium.fdroid/" class="btn btn-primary" target="_blank">${t('download_fdroid')}</a>
                    `;
                } else {
                    afterTimerText.style.display = "block";
                    obtainiumSectionEl.style.display = "none";
                }
            }
        }

        function startTimer() {
            if (!redirectTo || timerId) return;

            const timerEl = document.getElementById("timer");
            timerEl.textContent = timerValue;
            updateProgressBar();

            timerId = setInterval(() => {
                timerValue--;
                timerEl.textContent = timerValue;
                updateProgressBar();
                
                if (timerValue <= 0) {
                    clearInterval(timerId);
                    window.location.href = redirectTo;
                }
            }, 1000);
        }

        function updateProgressBar() {
            const progressBar = document.getElementById('progressBar');
            if (!progressBar || !redirectTo) return;
            
            const progress = ((10 - timerValue) / 10) * 100;
            progressBar.style.width = (100 - progress) + '%';
        }

        // --- ФУНКЦИИ НАСТРОЕК (ТЕМА И ЯЗЫК) ---

        function loadSettings() {
            const savedTheme = localStorage.getItem('theme') || 'auto';
            applyTheme(savedTheme);
            const savedLang = localStorage.getItem('lang') || getBrowserLanguage();
            setLanguage(savedLang, false);
        }

        function getBrowserLanguage() {
            const lang = navigator.language || navigator.userLanguage;
            if (lang.startsWith('ru')) return 'ru';
            if (lang.startsWith('fa')) return 'fa';
            if (lang.startsWith('zh')) return 'zh';
            return 'en';
        }

        function setTheme(theme) {
            localStorage.setItem('theme', theme);
            applyTheme(theme);
        }

        function applyTheme(theme) {
            const html = document.documentElement;
            const themeColorMeta = document.getElementById('themeColor');
            let isDark;
            if (theme === 'auto') {
                isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            } else {
                isDark = theme === 'dark';
            }
            html.classList.toggle('dark-theme', isDark);
            themeColorMeta.setAttribute('content', isDark ? '#0f172a' : '#3b82f6');
        }

        function setLanguage(lang, shouldUpdateUI = true) {
            currentLanguage = lang;
            localStorage.setItem('lang', lang);
            document.documentElement.lang = lang;
            if (shouldUpdateUI) {
                updateUI();
            }
        }

        function t(key) {
            return translations[currentLanguage]?.[key] || translations.en[key] || key;
        }

        function updateAllTexts() {
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.getAttribute('data-key');
                const text = t(key);
                const textNode = Array.from(el.childNodes).find(node => node.nodeType === Node.TEXT_NODE && node.textContent.trim());
                if (textNode) {
                    textNode.textContent = text;
                } else if (el.children.length === 0) {
                    el.textContent = text;
                }
            });
            document.getElementById("secondsText").textContent = t("seconds");
            document.getElementById("afterTimerText").textContent = t("if_not");
        }

        // --- УПРАВЛЕНИЕ МОДАЛЬНЫМИ ОКНАМИ ---

        function openModal(id) {
            document.getElementById(id)?.classList.add('active');
        }

        function closeModal(id) {
            document.getElementById(id)?.classList.remove('active');
        }
    </script>
</body>
</html>
